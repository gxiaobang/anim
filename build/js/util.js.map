{"version":3,"sources":["util.js"],"names":[],"mappings":"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","file":"util.js","sourcesContent":["/**\r\n * util.js\r\n * 工具类\r\n * by bang\r\n */\r\n\r\n\r\nconst noop = () => {};\r\n\r\n// 类型判断\r\nconst obt = Object.prototype.toString;\r\nconst isType = (type) => {\r\n\treturn (obj) => obt.call(obj) === `[object ${type}]`;\r\n}\r\n\r\nconst isObject = isType('Object'),\r\n\t\t\tisArray = isType('Array'),\r\n\t\t\tisNumber = isType('Number'),\r\n\t\t\tisString = isType('String'),\r\n\t\t\tisFunction = isType('Function');\r\n\r\n\r\nconst named = (name) => {\r\n\treturn name.replace(/[-]\\w/g, a => a.charAt(1).toUpperCase());\r\n}\r\n\r\n// 获取dom节点\r\nconst getDOM = ( expr, root = document ) => {\r\n\treturn root.querySelectorAll(expr);\r\n};\r\n\r\n// 获取索引\r\nconst getIndex = (el) => {\r\n\treturn [].indexOf.call(el.parent.children, el);\r\n};\r\n\r\n// 设置样式\r\nconst getStyle = ( el, name ) => {\r\n\t// 标准\r\n\tif (window.getComputedStyle) {\r\n\t\treturn window.getComputedStyle( el, '' )[ name ] || null;\r\n\t}\r\n\t// IE8-\r\n\telse {\r\n\t\t// 透明度\r\n\t\tif (name == 'opacity') {\r\n\t\t\treturn (el.filters.alpha || el.filters['DXImageTransform.Microsoft.Alpha'] || 100) / 100;\r\n\t\t}\r\n\t\telse {\r\n\t\t\treturn el.currentStyle[ name ] || null;\r\n\t\t}\r\n\t}\r\n};\r\n\r\n// 获取样式\r\nconst setStyle = ( el, name, value ) => {\r\n\r\n\tif (isString(el)) {\r\n\t\tel = getDOM(el)[0];\r\n\t}\r\n\telse if (isArray(el)) {\r\n\t\tforEach(el, elem => setStyle(elem, name, value));\r\n\t}\r\n\r\n\tvar props = {};\r\n\tif (arguments.length == 3 && typeof name == 'string') {\r\n\t\tprops[ name ] = value;\r\n\t}\r\n\telse {\r\n\t\tprops = name;\r\n\t}\r\n\r\n\tfor (let name in props) {\r\n\t\tif (name == 'opacity') {\r\n\t\t\tel.style.opacity = props[ name ];\r\n\t\t\tel.style.filter = 'alpha(filter=' + (props[ name ] / 100) + ')';\r\n\t\t}\r\n\t\telse if (isNaN( props[name] )) {\r\n\t\t\tel.style[ name ] = props[ name ];\r\n\t\t}\r\n\t\telse {\r\n\t\t\tel.style[ name ] = props[ name ] + 'px';\r\n\t\t}\r\n\t}\r\n};\r\n\r\n// 动画帧\r\nconst requestAnim = window.requestAnimationFrame || \r\n\t\t\t\t\t\t\twindow.webkitRequestAnimationFrame ||\r\n\t\t\t\t\t\t\twindow.mozRequestAnimationFrame  ||\r\n\t\t\t\t\t\t\twindow.msRequestAnimationFrame  ||\r\n\t\t\t\t\t\t\t(fn => setTimeout(fn, 1000 / 60));\r\n\r\n// 遍历类数组\r\nconst forEach = (array, func) => {\r\n\tif (isFunction(func)) {\r\n\t\tfor (var i = 0, len = array.length; i < len; i++) {\r\n\t\t\tif (func(array[i], i) === false) break;\r\n\t\t}\r\n\t}\r\n};\r\n\r\n// 混合 类似于extend\r\nconst mixin = (target, ...sources) => {\r\n\tforEach(sources, (source) => {\r\n\t\tfor (let key in source) {\r\n\t\t\ttarget[ key ] = source[ key ];\r\n\t\t}\r\n\t});\r\n\treturn target;\r\n};\r\n\r\n// http请求\r\nconst http = ({ method, url = '', param = null,  \r\n\t\tbeforeSend = noop, success = noop, \r\n\t\terror = noop, complete = noop }) => {\r\n\tvar xhr;\r\n\tif (window.XMLHttpRequrest) {\r\n\t\txhr = new XMLHttpRequrest();\r\n\t}\r\n\telse {\r\n\r\n\t}\r\n\r\n\txhr.onstatechange = () => {\r\n\t\tif (xhr.readyState == 4) {\r\n\t\t\tswitch (xhr.status) {\r\n\t\t\t\tcase 200:\r\n\t\t\t\t// 有缓存\r\n\t\t\t\tcase 302:\r\n\t\t\t\t\tsuccess(xhr.reText, xhr);\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase 404:\r\n\t\t\t\tcase 500:\r\n\t\t\t\t\terror(xhr.statusText, xhr);\r\n\t\t\t\t\tbreak;\r\n\t\t\t}\r\n\t\t\tcomplete(xhr.statusText, xhr);\r\n\t\t}\r\n\t}\r\n\r\n\tbeforeSend();\r\n\tif (method == 'POST') {\r\n\t\txhr.open('POST', url, true);\r\n\t\txhr.send();\r\n\t}\r\n\telse {\r\n\t\txhr.open();\r\n\t\txhr.send();\r\n\t}\r\n};\r\n\r\n\r\nexport { \r\n\tisObject, isNumber, isArray, isString, isFunction,\r\n\tgetDOM, getStyle, setStyle, mixin, http, requestAnim \r\n};"],"sourceRoot":"/source/"}